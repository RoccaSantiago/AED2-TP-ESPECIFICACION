\documentclass[10pt,a4paper]{article}

\input{AEDmacros}
\usepackage{caratula} % Version modificada para usar las macros de algo1 de ~> https://github.com/bcardiff/dc-tex


\titulo{Trabajo pr\'actico 1: Especificac\'ion y WP}
\subtitulo{Elecciones Nacionales}

\fecha{\today}

\materia{Algoritmos y Estructuras de Datos}
\grupo{sudo\_rm-rf\_/*}

\integrante{Rocca, Santiago}{152/23}{santiagrocca17@gmail.com}
\integrante{Fisz, Maximiliano}{586/19}{maximilianofisz@gmail.com}   
\integrante{Gomez, Abril}{574/20}{goskema@gmail.com}
\integrante{L\'opez, Gonzalo}{1017/22}{gonzalo.esloga.uba@gmail.com}
% Pongan cuantos integrantes quieran

% Declaramos donde van a estar las figuras
% No es obligatorio, pero suele ser comodo
\graphicspath{{../static/}}

\begin{document}

\maketitle

\section{Especificaci\'on}
	

    \subsection{General}


	\subsubsection{Predicados Universales}
		
		\pred{noHayRepetidos}{\In escrutinio : \TLista{\ent}}{(\forall x: \ent)(0 \leq x < |escrutinio| \: \longrightarrow_{L} \: ((\forall y: \ent)(0 \leq y < |escrutinio| \: \land  \: \neg(x=y) \: \longrightarrow_{L }\neg(escrutinio[x] = escrutinio[y])))}
		
		\pred{cantVotosValidos}{\In escrutinio : \TLista{\ent}}{((\forall x: \ent)(0 \leq x < |escrutinio|) \: \longrightarrow_{L } (escrutinio[x] \geq 0))}
	
		\pred{escrutinioValdio}{\In escrutinio: \TLista{\ent}}{|escrutinio| \geq 2}
		
		\pred{EleccionValida}{\In escrutinio: \TLista{\ent}}{nohayRepetidos(escrutinio) \land cantVotosValidos(escrutinio) \land escrutinioValido(escrutinio)}
		
		\pred{umbralElectoral}{\In escrutinioDip : \TLista{\ent}}{((\exists x: \ent)(0 \leq x < |escrutinioDip|) \: \land_{L} (escrutinioDip[x] > (|escrutinioDip| * 3) / 100))}

        \pred{minimoDePartidos}{\In escrutinio: \TLista{\ent}}{|escrutinio| \geq 3}


    \subsubsection{Auxiliares}

		\aux{sumaDeVotos}{\In escrutinio : \TLista{\ent}}{\ent}{\sum\limits_{i=0}^{|escrutinio| - 1} escrutinio[i]}

		\aux{porcentajeDeVotos}{\In escrutinio: \TLista{\ent}, \In votosPartido: \ent}{\float}{sumaDeVotos(escrutinio)^{-1} \; * \; votosPartido \; * \; 10^{2})}

		\aux{bancasDe}{\In indicePartido: \ent, \In bancas, \In dHont  \TLista{\TLista{\ent}}}{\ent}{ \\ \sum\limits_{p=0}^{bancas - 1} if \: cocienteGanador(indicePartido, p, dHont) \: then \: 1 \:  else \: 0}
	


\subsection{hayBallotage}
		\subsubsection{Main}

			\begin{proc}{hayBallotage}{\In escrutinio : \TLista{\ent}}{\bool}
	
				\requiere{eleccionValida(escrutinio))}
	
				\asegura{res = True \longleftrightarrow \neg((partidoMayorA45\%(escrutinio))\lor (partidoMayorA40\%ConDiferencia(escrutinio)))}

			\end{proc}

		\subsubsection{Predicados Especificos}


			\pred{partidoMayorA40\%ConDiferencia}{\In escrutinio : \TLista{\ent}}{(\exists n:\ent)(0 \leq n < |escrutinio| -1 \land_{ L }(porcentajeDeVotos(escrutinio,escrutinio[n])>40) \: \land_{ L } \\ \neg(\forall x:\ent)(0\leq x < |escrutinio|-1 \land  (\neg(n=x) \longrightarrow_{ L } ((escrutinio[n] - escrutinio[x])>10)) }


			


\subsection{hayFraude}
		\subsubsection{Main}
			
			\begin{proc}{hayFraude}{(\In escrutinio\_Presidente: \TLista{\ent}, \In escrutinio\_Senadores: \TLista{\ent}‚ü©, \In escrutinio\_Diputados: \TLista{\ent}}{\bool}
				\requiere{eleccionValida(escrutinio\_Presidente) \: \land\: eleccionValida(escrutinio\_Senadores) \: \land \: \\ eleccionValida(escrutinio\_diputados) \land minimoDePartidos(escrutinio\_Senadores) \land \\ 
(|escrutinio\_Presidente| = |escrutinio\_Senadores| = |escrutinio\_Diputados|)}
				
				\asegura{res=\neg(((|sumaDeVotos(escrutinio\_Presidente) = sumaDeVotos(escrutinio\_Senadores)) \land \\ (sumaDeVotos(escrutinio\_Presidente) = sumaDeVotos(escrutinio\_Diputados)))}
			
			\end{proc}






		
	\subsection{obtenerSenadoresEnProvincia}
		\subsubsection{Main}
			
			\begin{proc}{obtenerSenadoresEnProvincia}{\In escrutinio : \TLista{\ent}}{\ent \texttimes \ent}

                			\requiere{eleccionValida(escrutinio) \land minimoDePartidos(escrutinio)}
                			\asegura{(\exists!x : \ent) (0 \leq x < |escrutinio| - 1 \land_{L} ((\exists!y : \ent) (0 \leq y < |escrutinio| - 1 \land_{L} ((\forall i : \ent)(0 \leq i < |escrutinio| -1 \land \neg (i= x) \land  \neg(i = y) \longrightarrow_{L } (escrutinio[i] < escrutinio[y] < escrutinio[x] \land res_0 = x \land res_1 = y ))))}

            	\end{proc}
		
		\subsubsection{Predicados Especificos}
			

	


	 \subsection{calcularDHondtEnProvincia}
		\subsubsection{Main}
			\begin{proc}{calcularDHondtEnProvincia}{\In cant\_bancas: \ent, \In escrutinio: \TLista{\ent} } {\TLista{\TLista{\ent}}}
				 
				\requiere{eleccionValida(escrutinio) \land umbralElectoral(escrutinio) \land cant\_bancas>0)}
				\asegura{((\forall \: x:\ent)(0\leq n < cant\_bancas) \land_{L} (\forall \: x:\ent)(0\leq n <|escrutinio|))\longrightarrow_{L } \: (res[x][n]=\frac{escrutinio[x]}{n+1})}

			\end{proc}



	\subsection{obtenerDiputadosEnProvincia}
		\subsubsection{Main}
			\begin{proc}{obtenerDiputadosEnProvincia}{\In cant\_bancas: \ent, \In escrutinio: \TLista{\ent}, \In dHondt: \TLista{\TLista{\ent}}} {\TLista{\ent}}
				 
				\requiere{eleccionValida(escrutinio) \land umbralElectoral(escrutinio)}
				\asegura{(\forall \: r:\ent)(0\leq r < |escrutinio| - 1 \longrightarrow_{L} res[r] = bancasDe(r, cant\_bancas, dHondt))}
			\end{proc}

	
			\pred{cocienteGanador}{\In indicePartido: \ent, \In bancaEnDisputa: \ent, \In dHont: \TLista{\TLista{\ent}}}{res = True \longleftrightarrow
(\forall \: i: \ent)(0 \leq i < |dHont| -1 \land \neg(i = indicePartido) \longrightarrow_{L } dHont[bancaEnDisputa][indicePartido] > dHont[bancaEnDisputa][i])}






	\subsection{validarListasDiputadosEnProvincia}
		\subsubsection{Main}
			
			\begin{proc}{(\In cant\_bancas: \ent, \In listas: \TLista{\TLista{dni:\ent \times genero: \ent}}}{\bool}
			
				\requiere{(cant\_bancas>0) \: \land (\forall \: x:\ent)
    (0\leq x < |listas| \longrightarrow_{L} listas[x]_{0} > 0 \: \land \: 1 \leq listas[x]_{1} \leq 2)}
				\asegura{(\forall \: \: partido:\ent)(0\leq partido<|listas|) \longrightarrow_{L} (cantCandidatosCorrecta(cant\_bancas,\: listas[partido])\land altGenero(listas[partido])}			

			\end{proc}
		
		\subsubsection{Predicados Especificos}
		
			\pred{cantCandidatosCorrecta}{cant\_bancas: \ent, partido: \TLista{dni:\ent \times genero: \ent}}{cant\_bancas=|partido|}

			\pred{altGenero}{partido: \TLista{dni:\ent \times genero: \ent}}{(((\forall n: \ent)(0 \leq n < |partido|))\longrightarrow_{L} ( ((n\mod2=0)\longrightarrow_{L} (partido[n]_1=1)) \land_{L } ((n\mod2=1)\longrightarrow_{L} (partido[n]_1=2)) \lor_{L} ((n \mod 2 = 0) \longrightarrow_{L} (partido[n]_1=2 \land_{L} (n \mod 2=1) \longrightarrow_{L} partido[n]_1=1))}
	





	


\section{Implementaciones y demostraciones de correctitud}

	\subsection{Implementaciones}
		
		\subsubsection{hayBallotage}
		% Para hacer que quede todo en una misma linea, se puede usar minipage
			\begin{minipage}[t]{\textwidth}
				\begin{lstlisting}[caption={()},label=code:for]
					res := true
					trans := 0
					primero := 0
					segundo := 0
					i := 0
					suma := 0
					while (escrutinio.size() > i) do
						suma:= suma + escrutinio[i]
						i := i + 1
					endwhile
					i := 0
					while (escrutinio.size() > i) do
						escrutinio[i] := (escrutinio[i] * 100)/suma
						i := i + 1
					endwhile
					i := 0
					while (escrutinio.size() > i) do 
						if (segundo < escrutinio[i])
							segundo := escrutinio[i]
						else:
							skip
						endif
						if (primero < segundo)
							trans := primero
							primero := segundo
							segundo := trans
						else:
							skip
						endif
						i := i + 1
					endwhile
					if (primero > 45)
						res := false
					else
						if ((primero > 40) && (primero - segundo >= 10))
							res := false
						else
							skip
						endif
					endif

				\end{lstlisting}
			\end{minipage}

		\subsubsection{hayFraude}
			\begin{minipage}[t]{\textwidth}
				\begin{lstlisting}[caption={()},label=code:for]
						i := 0
						SumaSen := 0
						sumaDip := 0
						sumaPres := 0
						while (escrutinio_Presidente.size() > i) do
							sumaPres := sumaPres + escrutinio_Presidente[i]
							sumaDip := sumaDip + escrutinio_Diputados[i]
							sumaSen := sumaSen + escrutinio_Senadoresl[i]
							i := i + 1
						endwhile
						res := true
						if (sumaPres = sumaDip && sumaPres = sumaSen) then 
							res := false
						else:
							skip
						endif
				\end{lstlisting}
			\end{minipage}

		\subsubsection{obtenerSenadoresEnProvincia}
			\begin{minipage}[t]{\textwidth}
				\begin{lstlisting}[caption={()},label=code:for]

						trans := 0
						if (escrutinio[0] > escrutinio[1]):
    							primero := 0
    							segundo := 1
						else:
    							primero := 1
    							segundo := 0
						endif
						i := 2
						while (escrutinio.size() > i) do
							if (escrutinio[segundo] < escrutinio[i])
								segundo := i
							else:
								skip
							endif
							if (escrutinio[primero] < escrutinio[segundo])
								trans := primero
								primero := segundo
								segundo :=  trans
							else:
								skip
							endif
							i := i + 1
						endwhile	
						res_{0}:= primero
                        res{1}:= segundo
				\end{lstlisting}
			\end{minipage}
	
		\subsubsection{validarListasDiputadosEnProvincia}
			\begin{minipage}[t]{\textwidth}
				\begin{lstlisting}[caption={()},label=code:for]
					res := true
					i := 0
					while (listas.size() > i) do
						if (listas[i].size() != cant_bancas) 
							res:= false
						else:
							skip
						endif
						i := i + 1
					endwhile
					i := 0
					while (listas.size() > i) do
                        j := 1
						genero := listas[i][0][1]
						while (listas[i].size() > j) do
							if (listas[i][j][1] == genero) 
								res:=false
							else:
								genero := listas[i][j][1]
								j := j + 1
							endif
					    endwhile
						i := i + 1
					endwhile
				\end{lstlisting}
			\end{minipage}
		
	\subsection{Demostraciones de correctitud}
\subsubsection{hayFraude}
\begin{itemize}

        \item $P_c : i=0 \land sumaPres=0 \land sumaDip=0 \land sumaSen=0$
	\item $Q_c : \sum\limits_{x=0}^{|s| - 1} escrutinio\_Presidencial[x] = sumaPres \land \sum\limits_{y=0}^{|s| - 1} escrutinio\_Senadores[y] = sumaSen \\ \land \sum\limits_{z=0}^{|s| - 1} escrutinio\_Diputados[z] = sumaDip$
	\item $B : |s| > i$
	\item $F_v : |s| - i$
	\item $I : 0 \leq i \leq |s| \land (\sum\limits_{x=0}^{|s| - 1} escrutinio\_Presidencial[x] = sumaPres \land \\ \sum\limits_{y=0}^{|s| - 1} escrutinio\_Senadores[y] = sumaSen \land \sum\limits_{z=0}^{|s| - 1} escrutinio\_Diputados[z] = sumaDip)$
\end{itemize}
\vspace{6mm} 
\begin{enumerate}
    \item  Pre $\longrightarrow_{L}$ wp(sumaPres := 0; sumaDip := 0; sumaSen := 0; i :=0, Pc)
    \vspace{3mm} 

    $wp(sumaDip := 0, \: wp(sumaDip := 0, \: wp(sumaSen := 0, \: wp(i := 0, \: P_c))))$
    
    \quad $wp(i := 0, P_c) \equiv def(0) \land_L  P^i_0 \equiv$

    \quad\quad $\equiv True \land_v 0 = 0 \land sumaPres = 0 \land sumaDip = 0 \land sumaSen = 0 $

    \quad\quad $\equiv sumaPres = 0 \land sumaDip = 0 \land sumaSen = 0 \equiv p1$

    \quad $wp(sumaSen := 0, \: p1) \equiv def(0) \land_L p1^{sumaSen}_0$

    \quad\quad $\equiv True \land_L sumaPres = 0 \land sumaDip = 0 \land 0 = 0$

    \quad\quad $ \equiv sumaPres = 0 \land sumaDip = 0 \equiv p2$

    \quad $wp(sumaDip := 0, \: p2) \equiv def(0) \land_L p2^{sumaDip}_0$

    \quad\quad $\equiv True \land_L sumaPres = 0 \land 0 = 0$

    \quad\quad $\equiv sumaPres = 0 \equiv p3$

    \quad $wp(sumaPres := 0, p3) \equiv def(0) \land_L p3^{sumaPres}_0 $

    \quad\quad $\equiv True \land_L 0 = 0$  

    \quad\quad$ \equiv True $ 

\vspace{3mm} 
{Pre $\longrightarrow_{L}$ wp(sumaPres := 0; sumaDip := 0; sumaSen := 0; i :=0; Pc) \\ es verdadero porque Pre siempre implica a True }
\vspace{5mm} 

{2. $Q_c \longrightarrow_{L} \text{wp}(res = \text{True}; \text{If}(\ldots); Q) \equiv \text{True}$} %revisar if, esto tenia que estar como el 1 Pre

\vspace{3mm} 
$ MM = \{ \sum\limits_{x=0}^{i - 1} escrutinio\_Presidencial[x] =\sum\limits_{y=0}^{i - 1} escrutinio\_Diputados[y] \land $ 
\\ $\sum\limits_{x=0}^{i - 1} escrutinio\_Presidencial[x] = \sum\limits_{z=0}^{i - 1} escrutinio\_Senadores[z] \} $ 

\vspace{2mm} 

$wp(res := True, wp(If ...; Q)) \equiv $ %alinear bien esto

$wp(If ..., Q) \equiv ((sumaPres = sumaDip  \land  sumaPres = sumaSen   \land  wp(res := False, Q) \lor (def (A) \land \neg MM \land wp(skip,Q)) \equiv $

$(MM \land Q^{res}_{\text{False}}) ) \lor (\neg MM \land Q) \equiv $
\vspace{2mm} \vspace{2mm} 

$(M \land False = \neg MM ) \lor (\neg MM \land res := \neg MM ) \equiv$
\vspace{2mm} 

$ (M \land True = MM ) \lor (\neg M \land res := \neg MM ) \equiv Q_2$\vspace{2mm} 

$wp(res:true, Q_2) \equiv$\vspace{2mm} \vspace{2mm} 

$Q^{res}_{\text{True}} \equiv (MM \land True = MM) \lor (\neg MM \land False=MM)\equiv True $
\vspace{2mm} \vspace{2mm} \\

${3. P_c \longrightarrow_{L} wp(while ... , Q)}$ 
Trivial, hace la sumatoria 0
\vspace{3mm} 

$\\ A) \; \: I \land \neg B  \longrightarrow Q_c $ 

 $i \geq |s| \Longleftrightarrow i = |s| (por rango de i) $ 

Luego se genera $Q_e$ al reemplazar i por s.lenght  %

{$\\ B) \: I \land f_v \leq 0 \longrightarrow \neg B$ }

$F_v \leq 0  \Longleftrightarrow   |s| \leq i $
\vspace{2mm}
 $\\ |s| \leq i \land I \longrightarrow i \leq   |s|  \equiv \: True (trivial \: por \: la \: definicion \: de \: I ) $ 
\: \; \\

$\\ C)\{I \land B\}S\{I\}$

$I \land B \longrightarrow Wp(s1;s2;s3;i:=i+1,I) $

$Wp(i:=i+1,I) \equiv def(i+1) \land_{L} I^{i}_{i+1}$
$\\wp(sumaSenadores:=sumaSenadores + escrutinio\_Senadores,I^{i}_{i+1}) \equiv  0 \leq i <|escrutinio_Senadores| \land_{L} \\ I^{i^{sumaSenadores}}_{i+1_{sumaSenadores + escrutinio\_Senadores[i]}} \equiv 0\leq i < |S| \land_{L} \\ sumaPresidencial = \sum_{x=0}^{i} escrutinio[x]  \land sumaDiputados =\sum_{y=0}^{i} escrutinio[y] \land sumaSenadores =\sum_{yz=0}^{i-1} escrutinio[z] \equiv Q_{1} $
$\\wp(sumaDiputados:=sumaDiputados + escrutinio\_ Diputados,I^{i}_{i+1}) \equiv  0 \leq i <|escrutinio\_Diputados| \land_{L} \\ I^{i^{sumaDiputados}}_{i+1_{sumaDiputados + escrutinio\_Diputados[i]}} \equiv 0\leq i < |S| \land_{L} \\ sumaPresidencial = \sum_{x=0}^{i} escrutinio[x]  \land sumaDiputados =\sum_{y=0}^{i-1} escrutinio[y] \land sumaSenadores =\sum_{z=0}^{i-1} escrutinio[z] \equiv Q_{2}\ $
$\\wp(sumaSenadores:=sumaSenadores + escrutinio\_Senadores,I^{i}_{i+1}) \equiv  0 \leq i <|escrutinio_Senadores| \land_{L} \\ I^{i^{sumaSenadores}}_{i+1_{sumaSenadores + escrutinio\_Senadores[i]}} \equiv 0\leq i < |S| \land_{L} \\ sumaPresidencial = \sum_{x=0}^{i} escrutinio[x]  \land sumaDiputados =\sum_{y=0}^{i} escrutinio[y] \land sumaSenadores =\sum_{yz=0}^{i-1} escrutinio[z] \equiv Q_{1} $

$\\wp(sumaPresidencial:=sumaPresidencial + escrutinio\_ Presidencial,I^{i}_{i+1}) \equiv  0 \leq i <|escrutinio\_Presidencial| \land_{L} \\ I^{i^{sumaPresidencial}}_{i+1_{sumaPresidencial + escrutinio\_Presidencial[i]}} \equiv 0\leq i < |S| \land_{L} \\ sumaPresidencial = \sum_{x=0}^{i-1} escrutinio[x]  \land sumaDiputados =\sum_{y=0}^{i-1} escrutinio[y] \land sumaSenadores =\sum_{z=0}^{i-1} escrutinio[z] \equiv Q_{3}\ $
\\Luego
$\\ I \land B \longrightarrow Q_{3}$

$I \land B \longrightarrow 0\leq i < |S| \land_{L} \\ sumaPresidencial = \sum_{x=0}^{i-1} escrutinio[x]  \land sumaDiputados =\sum_{y=0}^{i-1} escrutinio[y] \land sumaSenadores =\sum_{z=0}^{i-1} escrutinio[z] \\ \equiv True $

\vspace{5mm} 

$\\ D) \{I \land B \land V_0 =  |s| - i \}  S  \{ |s| - i < V_0 \} $

{I $\land$ B $\land$ $V_0$= $|s|$ - i $\longrightarrow$ wp($S_1$,$S_2$,$S_3$,$S_4$, $|s|$ - i $\leq$ $V_0$ ) }

wp(i := i+1,  $|s|$ - i $\leq$ $V_0$) $\equiv$ ($|s|$-(i+1 $<$ $V_0$) $\equiv$ $|s|$ - i $<$ $V_0$ + 1

$\text{wp}(sumaSen: sumaSen + \text{escrutinio\_Senadores}[i], |s| - i < V_0 + 1) \equiv \\ (0 \leq i \leq |escrutinio\_Senadores|) \land_L Q^{sumaSen}_{sumaSen+\text{escrutinio\_Senadores}[i]} \equiv (0 \leq i \leq |escrutinio\_Senadores|) \land_L (|s| - i < V_0 + 1)$

$\text{wp}(sumaDip: sumaDip + \text{escrutinio\_Diputados}[i], |s| - i < V_0 + 1) \equiv \\ (0 \leq i \leq |escrutinio\_Diputados|) \land_L Q^{sumaDip}_{sumaDip+\text{escrutinio\_Diputados}[i]} \equiv (0 \leq i \leq |escrutinio\_Diputados|) \land_L (|s| - i < V_0 + 1)$

$\text{wp}(sumaPres: sumaPres + \text{escrutinio\_Presidente}[i], |s| - i < V_0 + 1) \equiv \\ (0 \leq i \leq |escrutinio\_Presidente|) \land_L Q^{sumaPres}_{sumaPres+\text{escrutinio\_Presidente}[i]} \equiv (0 \leq i \leq |escrutinio\_Presidente|) \land_L (|s| - i < V_0 + 1)$

\text Luego vale la implicaci\'on ya que $v_{0}$ = $|s| - i $ $\rightarrow$  $|s|$ - i $<$ $v_0$+1
\text Luego es valido

\end{enumerate}

\subsubsection{obtenerSenadoresProvincia}

\begin{itemize}
	\item s=escrutinio
      \item $P_c = \{ trans=0 \land i=2 \land (primero=0 \land segundo = 1) \lor (primero = 1 \land segundo=0) \}$
\item $Q_c = (\forall j:\ent)( 0\leq j < |s| \longrightarrow_{L} ( s[j]\leq s[segundo] \longrightarrow s[segundo]<s[primero))$
	\item $B = |s| > i$
	\item $F_v = |s| - i$
	\item $I = \{0 \leq i \leq |s| \land (\sum\limits_{x=0}^{|s| - 1} escrutinio\_Presidencial[x] \land \sum\limits_{y=0}^{|s| - 1} escrutinio\_Senadores[y] \land \sum\limits_{z=0}^{|s| - 1} escrutinio\_Diputados[z])\}$
\end{itemize}

$\\1) Pre \longrightarrow_{L} Wp(S_1;S_2;S_3,P_{c})$
$\\ Wp(S_1,Wp(S_2,Wp(S_3,P_c)))$
$\\ Primero \: Wp(S_3,P_c)\equiv Wp(i:=2,P_c) \equiv def(2) \land_{L} P_{c_{2}}^{i} \equiv True \land_{L} trans = 0 \land 2=2 \land \\ ((primero = 0 \land segundo = 1) \lor (primero = 1 \land segundo = 0)) \equiv Q^{1}$
$Wp(S_{2},Q^1) \equiv def(B) \land_{L} (B \land Wp(P_1;P_2,Q^1) \lor \\  (\neg B \land Wp(P_3;P_4,Q^1)))$
$ \\ Wp(P_1;P_2,Q^1) \equiv  Wp(P_1,Wp(P_2,Q^1))$
$\\ Wp(P_2,Q^1) \equiv Wp(segundo :=1, Q^1) \equiv def(1) \land Q^{1^{segundo}}_1 \equiv trnas=0 \land (primero =1 \land 1=1) \lor (primero =1 \land 1=0) \equiv Q^2$
$Wp(P_1,Q^2) \equiv Wp(primero :=0, Q^2) \equiv def(0) \land Q^{2^{primero}}_0 \equiv trans =0 \land ((0=0 \land 1=1) \lor (0=1 \land 1=0)) \equiv trans=0 \equiv Q^3$
$Luego \: Wp(S_2,Q^1) \equiv (B \land trans = 0) \lor (\neg B \land Wp(P_3,P4,Q^1)) $
$\\ Wp(P_3;P_4,Q^1) \equiv Wp(P_3,Wp(P_4,Q^1))$
$\\ Wp(P_4, Q^1) \equiv Wp(segundo :=0, Q^1) \equiv def(0) \land Q^{1^{segundo}}_{0} \equiv trans=0 \land ((primero=0 \land 0 = 1) \lor (primero=1 \land 0=0)) \equiv Q^4$
$ Wp(P_3,Q^4) \equiv Wp(primero=1,Q^4) \equiv def(1) \land Q^{4^{primero}}_{1} \equiv trans = 0 \land ((1=0 \land False )\lor (1=1 \land True)) \equiv trans = 0 \equiv Q^3$
$Entonces \: Wp(S_2,Q^1) \equiv ((B \land trans=0) \lor (\neg B \land trans=0)) \equiv (escrutinio[0]>escrutinio[1] \land trans=0) \lor (escrutinio[0]\leq escrutinio[1] \land trans=0) \equiv Q^5$
$\\Por ultimo Wp(S_1,Q^5) \equiv Wp(trans:=0,Q^5) \equiv def(0) \land Q^{5^{trans}}_{0} \equiv (escrutinio[0] > escrutinio[1]\land 0=0) \lor (escrutinio[0] \leq escrutiniop[1] \land 0=0) \equiv True$ 
\end{document}


